{"ast":null,"code":"import _regeneratorRuntime from\"C:/Springboard/Springboard/Springboard/Exercises/React/React-Jobly/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Springboard/Springboard/Springboard/Exercises/React/React-Jobly/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Springboard/Springboard/Springboard/Exercises/React/React-Jobly/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState,useEffect}from\"react\";import\"./JobCard.css\";import UserContext from\"../auth/UserContext\";/** Show limited information about a job.\r\n *\r\n * Is rendered by JobCardList to show a \"card\" for each job.\r\n *\r\n * Receives apply func prop from parent, which is called on apply.\r\n *\r\n * JobCardList -> JobCard\r\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function JobCard(_ref){var id=_ref.id,title=_ref.title,salary=_ref.salary,equity=_ref.equity,companyName=_ref.companyName;console.debug(\"JobCard\");var _useContext=useContext(UserContext),hasAppliedToJob=_useContext.hasAppliedToJob,applyToJob=_useContext.applyToJob;var _useState=useState(),_useState2=_slicedToArray(_useState,2),applied=_useState2[0],setApplied=_useState2[1];useEffect(function updateAppliedStatus(){console.debug(\"JobCard useEffect updateAppliedStatus\",\"id=\",id);setApplied(hasAppliedToJob(id));},[id,hasAppliedToJob]);/** Apply for a job */function handleApply(_x){return _handleApply.apply(this,arguments);}function _handleApply(){_handleApply=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(evt){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:evt.preventDefault();if(!hasAppliedToJob(id)){_context.next=3;break;}return _context.abrupt(\"return\");case 3:applyToJob(id);setApplied(true);case 5:case\"end\":return _context.stop();}},_callee);}));return _handleApply.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"div\",{className:\"JobCard card\",children:[applied,/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"card-title\",children:title}),/*#__PURE__*/_jsx(\"p\",{children:companyName}),salary&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"small\",{children:[\"Salary: \",formatSalary(salary)]})}),equity!==undefined&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"small\",{children:[\"Equity: \",equity]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger font-weight-bold text-uppercase float-right\",onClick:handleApply,disabled:applied,children:applied?\"Applied\":\"Apply\"})]})]});}/** Render integer salary like '$1,250,343' */function formatSalary(salary){var digitsRev=[];var salaryStr=salary.toString();for(var i=salaryStr.length-1;i>=0;i--){digitsRev.push(salaryStr[i]);if(i>0&&i%3===0)digitsRev.push(\",\");}return digitsRev.reverse().join(\"\");}export default JobCard;","map":{"version":3,"names":["React","useContext","useState","useEffect","UserContext","jsx","_jsx","jsxs","_jsxs","JobCard","_ref","id","title","salary","equity","companyName","console","debug","_useContext","hasAppliedToJob","applyToJob","_useState","_useState2","_slicedToArray","applied","setApplied","updateAppliedStatus","handleApply","_x","_handleApply","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","evt","wrap","_callee$","_context","prev","next","preventDefault","abrupt","stop","className","children","formatSalary","undefined","onClick","disabled","digitsRev","salaryStr","toString","i","length","push","reverse","join"],"sources":["C:/Springboard/Springboard/Springboard/Exercises/React/React-Jobly/frontend/src/job/JobCard.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\r\nimport \"./JobCard.css\";\r\nimport UserContext from \"../auth/UserContext\";\r\n\r\n/** Show limited information about a job.\r\n *\r\n * Is rendered by JobCardList to show a \"card\" for each job.\r\n *\r\n * Receives apply func prop from parent, which is called on apply.\r\n *\r\n * JobCardList -> JobCard\r\n */\r\n\r\nfunction JobCard({ id, title, salary, equity, companyName }) {\r\n  console.debug(\"JobCard\");\r\n\r\n  const { hasAppliedToJob, applyToJob } = useContext(UserContext);\r\n  const [applied, setApplied] = useState();\r\n  useEffect(\r\n    function updateAppliedStatus() {\r\n      console.debug(\"JobCard useEffect updateAppliedStatus\", \"id=\", id);\r\n\r\n      setApplied(hasAppliedToJob(id));\r\n    },\r\n    [id, hasAppliedToJob]\r\n  );\r\n\r\n  /** Apply for a job */\r\n  async function handleApply(evt) {\r\n    evt.preventDefault();\r\n    if (hasAppliedToJob(id)) return;\r\n    applyToJob(id);\r\n    setApplied(true);\r\n  }\r\n\r\n  return (\r\n    <div className=\"JobCard card\">\r\n      {applied}\r\n      <div className=\"card-body\">\r\n        <h6 className=\"card-title\">{title}</h6>\r\n        <p>{companyName}</p>\r\n        {salary && (\r\n          <div>\r\n            <small>Salary: {formatSalary(salary)}</small>\r\n          </div>\r\n        )}\r\n        {equity !== undefined && (\r\n          <div>\r\n            <small>Equity: {equity}</small>\r\n          </div>\r\n        )}\r\n        <button\r\n          className=\"btn btn-danger font-weight-bold text-uppercase float-right\"\r\n          onClick={handleApply}\r\n          disabled={applied}\r\n        >\r\n          {applied ? \"Applied\" : \"Apply\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/** Render integer salary like '$1,250,343' */\r\n\r\nfunction formatSalary(salary) {\r\n  const digitsRev = [];\r\n  const salaryStr = salary.toString();\r\n\r\n  for (let i = salaryStr.length - 1; i >= 0; i--) {\r\n    digitsRev.push(salaryStr[i]);\r\n    if (i > 0 && i % 3 === 0) digitsRev.push(\",\");\r\n  }\r\n\r\n  return digitsRev.reverse().join(\"\");\r\n}\r\n\r\nexport default JobCard;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}