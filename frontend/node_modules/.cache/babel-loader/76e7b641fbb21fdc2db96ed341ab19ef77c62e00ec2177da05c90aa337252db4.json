{"ast":null,"code":"import _regeneratorRuntime from\"C:/Springboard/Springboard/Springboard/Exercises/React/React-Jobly/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _defineProperty from\"C:/Springboard/Springboard/Springboard/Exercises/React/React-Jobly/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Springboard/Springboard/Springboard/Exercises/React/React-Jobly/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Springboard/Springboard/Springboard/Exercises/React/React-Jobly/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Springboard/Springboard/Springboard/Exercises/React/React-Jobly/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import Alert from\"../support/Alert\";/** Login form.\r\n *\r\n * Shows form and manages update to state on changes.\r\n * On submission:\r\n * - calls login function prop\r\n * - redirects to /companies route\r\n *\r\n * AppRoutes -> LoginForm -> Alert\r\n * Routed as /login\r\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function LoginForm(_ref){var login=_ref.login;var _useState=useState({username:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];var navigate=useNavigate();function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(evt){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:evt.preventDefault();_context.next=3;return login(formData);case 3:result=_context.sent;if(result.success){navigate(\"/homepage\");}else{setFormErrors(result.errors);}case 5:case\"end\":return _context.stop();}},_callee);}));return _handleSubmit.apply(this,arguments);}function handleChange(evt){var _evt$target=evt.target,name=_evt$target.name,value=_evt$target.value;setFormData(function(formData){return _objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value));});}return/*#__PURE__*/_jsx(\"div\",{className:\"LoginForm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mb-3\",children:\"Log In\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{name:\"username\",className:\"form-control\",onChange:handleChange,value:formData.username,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",onChange:handleChange,value:formData.password,required:true})]}),formErrors.length?/*#__PURE__*/_jsx(Alert,{type:\"danger\",messages:formErrors}):null,/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary float-right\",onSubmit:handleSubmit,children:\"Submit\"})]})})})]})});}export default LoginForm;","map":{"version":3,"names":["React","useState","useNavigate","Alert","jsx","_jsx","jsxs","_jsxs","LoginForm","_ref","login","_useState","username","password","_useState2","_slicedToArray","formData","setFormData","_useState3","_useState4","formErrors","setFormErrors","navigate","handleSubmit","_x","_handleSubmit","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","evt","result","wrap","_callee$","_context","prev","next","preventDefault","sent","success","errors","stop","handleChange","_evt$target","target","name","value","_objectSpread","_defineProperty","className","children","onSubmit","onChange","required","type","length","messages"],"sources":["C:/Springboard/Springboard/Springboard/Exercises/React/React-Jobly/frontend/src/form/LoginForm.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Alert from \"../support/Alert\";\r\n\r\n\r\n/** Login form.\r\n *\r\n * Shows form and manages update to state on changes.\r\n * On submission:\r\n * - calls login function prop\r\n * - redirects to /companies route\r\n *\r\n * AppRoutes -> LoginForm -> Alert\r\n * Routed as /login\r\n */\r\nfunction LoginForm({ login }) {\r\n  const [formData, setFormData] = useState({ username: \"\", password: \"\" });\r\n  const [formErrors, setFormErrors] = useState([]);\r\n  const navigate = useNavigate();\r\n  async function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    let result = await login(formData);\r\n    if (result.success) {\r\n      navigate(\"/homepage\");\r\n    } else {\r\n      setFormErrors(result.errors);\r\n    }\r\n  }\r\n  function handleChange(evt) {\r\n    const { name, value } = evt.target;\r\n    setFormData((formData) => ({ ...formData, [name]: value }));\r\n  }\r\n  return (\r\n    <div className=\"LoginForm\">\r\n      <div className=\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\">\r\n        <h3 className=\"mb-3\">Log In</h3>\r\n\r\n        <div className=\"card\">\r\n          <div className=\"card-body\">\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"form-group\">\r\n                <label>Username</label>\r\n                <input\r\n                  name=\"username\"\r\n                  className=\"form-control\"\r\n                  onChange={handleChange}\r\n                  value={formData.username}\r\n                  required\r\n                />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Password</label>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  className=\"form-control\"\r\n                  onChange={handleChange}\r\n                  value={formData.password}\r\n                  required\r\n                />\r\n              </div>\r\n\r\n              {formErrors.length ? (\r\n                <Alert type=\"danger\" messages={formErrors} />\r\n              ) : null}\r\n\r\n              <button\r\n                className=\"btn btn-primary float-right\"\r\n                onSubmit={handleSubmit}\r\n              >\r\n                Submit\r\n              </button>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default LoginForm\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}